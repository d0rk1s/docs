---
title: "Ver Upcoming Closures"
description: "Sistema de advertencias tempranas para cierres que empiezan en los pr√≥ximos 14 d√≠as"
---

# Ver Upcoming Closures

Los **Upcoming Closures** (Pr√≥ximos Cierres) son advertencias tempranas que te muestran todos los cierres que empezar√°n en los pr√≥ximos 14 d√≠as. Esto te ayuda a planificar con anticipaci√≥n y gestionar la disponibilidad futura de tu cl√≠nica.

<Tip>
**Feature implementada (2026-01-01)**: Sistema proactivo de warnings para cierres pr√≥ximos con countdown y ordenamiento autom√°tico.
</Tip>

## ¬øQu√© son Upcoming Closures?

Los upcoming closures son cierres que cumplen estas caracter√≠sticas:

- **Starts_at** (fecha de inicio) est√° dentro de los pr√≥ximos **14 d√≠as**
- **Status**: Activos (no cancelados)
- **Visibilidad**: Se muestran en Dashboard, API, y lista de cierres

### ¬øPor qu√© 14 d√≠as?

El per√≠odo de 14 d√≠as fue elegido porque:

- **2 semanas** es un per√≠odo razonable para planificar
- Tiempo suficiente para notificar clientes si es necesario
- No tan lejano que los cierres sean irrelevantes
- Configurable en backend si necesitas otro valor

<Note>
**Configuraci√≥n backend**: El valor de 14 d√≠as est√° en `app/services/configuration_status_service.py` (variable `UPCOMING_CLOSURES_DAYS = 14`). Solo admins pueden modificarlo.
</Note>

## D√≥nde Ver Upcoming Closures

Tienes 3 formas de ver upcoming closures:

### 1. Dashboard (Widget)

El Dashboard incluye un widget dedicado "Pr√≥ximos Cierres":

<Frame>
  <img src="/images/screenshots/closures_upcoming_widget.png" alt="Widget de pr√≥ximos cierres en el dashboard con countdown y alertas" />
</Frame>

**Ubicaci√≥n**:
- Dashboard principal ‚Üí Secci√≥n "Alertas" ‚Üí Widget "Pr√≥ximos Cierres"

**Informaci√≥n mostrada**:
- Icono de alerta (‚ö†Ô∏è) si hay cierres pr√≥ximos
- Countdown: "En X d√≠as"
- Fechas de inicio y fin
- Tipo (clinic-wide o provider)
- Raz√≥n del cierre

**Acciones r√°pidas**:
- Click en cierre ‚Üí Ver detalles
- Bot√≥n "Editar" ‚Üí Modificar fechas/raz√≥n
- Bot√≥n "Cancelar" ‚Üí Eliminar cierre

### 2. Configuration-Status Endpoint

Endpoint API que retorna estado completo de la cl√≠nica:

**Request**:
```http
GET /v1/clinics/{clinic_id}/configuration-status
```

**Response** (fragmento):
```json
{
  "clinic_id": "abc-123",
  "operational_info": {
    "is_operational": true,
    "upcoming_closures": [
      {
        "id": "closure-uuid",
        "starts_at": "2026-08-01T00:00:00Z",
        "ends_at": "2026-08-15T23:59:59Z",
        "reason": "Vacaciones de verano",
        "provider_id": null,
        "provider_name": null,
        "days_until_start": 7
      }
    ]
  }
}
```

**Uso**: Ideal para integrar en frontend/apps que necesitan mostrar cierres pr√≥ximos.

### 3. Lista de Cierres

La p√°gina de gesti√≥n de cierres incluye una secci√≥n "Upcoming":

**Ubicaci√≥n**:
- Gesti√≥n ‚Üí Cierres ‚Üí Tab "Upcoming Closures"

**Ventajas**:
- Ver todos los cierres pr√≥ximos en una lista
- Filtrar por proveedor
- Ordenar por d√≠as hasta inicio
- Acciones bulk (cancelar m√∫ltiples)

## Informaci√≥n Mostrada

Cada upcoming closure incluye:

| Campo | Descripci√≥n | Ejemplo |
|-------|-------------|---------|
| **Fecha de inicio** | Cu√°ndo empieza el cierre | `2026-08-01 00:00` |
| **Fecha de fin** | Cu√°ndo termina el cierre | `2026-08-15 23:59` |
| **Tipo** | Clinic-wide o Provider-specific | `Clinic-wide` |
| **Proveedor** | Nombre del proveedor (si aplica) | `Dr. Garc√≠a` (o `null` si clinic-wide) |
| **Raz√≥n** | Motivo del cierre | `Vacaciones de verano` |
| **Days until start** | D√≠as restantes hasta inicio (countdown) | `7 d√≠as` |

### Ordenamiento

Los upcoming closures se ordenan por **`days_until_start`** ascendente:

- **M√°s cercanos primero**: Cierres que empiezan en 1-2 d√≠as aparecen arriba
- **Menos urgentes abajo**: Cierres que empiezan en 12-14 d√≠as aparecen abajo

**Ejemplo de lista ordenada**:
```
1. Permiso m√©dico - Dr. Garc√≠a (En 2 d√≠as) ‚ö†Ô∏è
2. Capacitaci√≥n - Ana L√≥pez (En 5 d√≠as)
3. Vacaciones de verano - Toda la cl√≠nica (En 7 d√≠as)
4. D√≠a festivo - Navidad (En 14 d√≠as)
```

## C√≥mo Ver Upcoming Closures

<Steps>
  <Step title="Navegar a Dashboard o Cierres">
    Elige uno de los siguientes:

    **Opci√≥n A: Dashboard**
    - Ir a Dashboard principal
    - Buscar secci√≥n "Alertas"
    - Widget "Pr√≥ximos Cierres"

    **Opci√≥n B: Lista de Cierres**
    - Ir a Gesti√≥n ‚Üí Cierres
    - Click en tab "Upcoming Closures"
  </Step>

  <Step title="Revisar lista de cierres pr√≥ximos">
    El sistema mostrar√° todos los cierres que empiezan en los pr√≥ximos 14 d√≠as:

    **Si hay cierres pr√≥ximos**:
    - Lista ordenada por d√≠as hasta inicio
    - Countdown para cada cierre
    - Iconos de alerta para cierres muy cercanos (&lt;3 d√≠as)

    **Si NO hay cierres pr√≥ximos**:
    - Mensaje: "No hay cierres programados en los pr√≥ximos 14 d√≠as"
    - Sugerencia: "Planifica vacaciones con anticipaci√≥n"
  </Step>

  <Step title="Ver detalles de un cierre">
    Click en cualquier cierre para ver detalles completos:

    - Fechas exactas (inicio y fin con hora)
    - Tipo de cierre (clinic-wide o provider)
    - Proveedor (si aplica)
    - Raz√≥n
    - Preview de impacto (cu√°ntos slots se bloquear√°n)
    - Estado actual (activo, pendiente)
  </Step>

  <Step title="Acciones r√°pidas">
    Desde la vista de upcoming closures, puedes:

    **Editar cierre**:
    - Click en icono de editar (‚úèÔ∏è)
    - Modificar fechas, raz√≥n, o proveedor
    - Guardar cambios

    **Cancelar cierre**:
    - Click en icono de eliminar (üóëÔ∏è)
    - Confirmar cancelaci√≥n
    - El cierre se elimina inmediatamente

    [Ver Tutorial: Cancelar Cierre](/closures/cancel-closure)

    **Ver preview de impacto**:
    - Click en "Ver Impacto"
    - Muestra cu√°ntos slots se bloquear√°n
    - √ötil para validar que el cierre es correcto

    [Ver Tutorial: Preview de Impacto](/closures/impact-preview)
  </Step>
</Steps>

## Ejemplos de Upcoming Closures

<AccordionGroup>
  <Accordion title="Ejemplo 1: Vacaciones pr√≥ximas (7 d√≠as)">
    **Escenario**: Hoy es 25/07/2026, vacaciones empiezan el 01/08/2026.

    **Upcoming closure mostrado**:
    ```
    Tipo: Clinic-wide (toda la cl√≠nica)
    Inicio: 2026-08-01 00:00
    Fin: 2026-08-15 23:59
    Raz√≥n: Vacaciones de verano
    Days until start: 7 d√≠as
    Impacto: HIGH (300 slots bloqueados)
    ```

    **Acciones sugeridas**:
    - ‚úÖ Tiempo suficiente para notificar clientes
    - ‚úÖ Revisar calendario: ¬øhay citas agendadas para esas fechas?
    - ‚úÖ Considerar cancelar/mover citas existentes

    **Icono de alerta**: ‚ö†Ô∏è (cierre cercano, planificar)
  </Accordion>

  <Accordion title="Ejemplo 2: Permiso m√©dico urgente (2 d√≠as)">
    **Escenario**: Hoy es 01/02/2026, permiso m√©dico empieza el 03/02/2026.

    **Upcoming closure mostrado**:
    ```
    Tipo: Provider-specific (Dr. Garc√≠a)
    Inicio: 2026-02-03 00:00
    Fin: 2026-02-04 23:59
    Raz√≥n: Permiso m√©dico personal
    Days until start: 2 d√≠as
    Impacto: MEDIUM (40 slots bloqueados)
    ```

    **Acciones sugeridas**:
    - ‚ö†Ô∏è MUY CERCANO: Notificar clientes afectados HOY
    - ‚ö†Ô∏è Revisar citas del Dr. Garc√≠a 3-4 febrero
    - ‚ö†Ô∏è Ofrecer re-agendar con otros proveedores

    **Icono de alerta**: üî¥ (urgente, requiere acci√≥n inmediata)
  </Accordion>

  <Accordion title="Ejemplo 3: Capacitaci√≥n futura (12 d√≠as)">
    **Escenario**: Hoy es 01/03/2026, capacitaci√≥n empieza el 13/03/2026.

    **Upcoming closure mostrado**:
    ```
    Tipo: Provider-specific (Ana L√≥pez)
    Inicio: 2026-03-13 09:00
    Fin: 2026-03-13 14:00
    Raz√≥n: Capacitaci√≥n: Curso de t√©cnicas avanzadas
    Days until start: 12 d√≠as
    Impacto: LOW (10 slots bloqueados)
    ```

    **Acciones sugeridas**:
    - ‚úÖ NO urgente: Tiempo suficiente para planificar
    - ‚úÖ Ana sigue disponible por la tarde (14:00-18:00)
    - ‚úÖ Impacto m√≠nimo, no requiere acciones especiales

    **Icono de alerta**: (sin alerta, planificado correctamente)
  </Accordion>

  <Accordion title="Ejemplo 4: M√∫ltiples cierres solapados">
    **Escenario**: Dos cierres pr√≥ximos en fechas cercanas.

    **Upcoming closures mostrados**:
    ```
    1. Dr. Garc√≠a - Permiso (En 3 d√≠as)
       - Inicio: 2026-02-04 00:00
       - Fin: 2026-02-05 23:59
       - Impacto: MEDIUM (20 slots)

    2. Dra. L√≥pez - Capacitaci√≥n (En 5 d√≠as)
       - Inicio: 2026-02-06 09:00
       - Fin: 2026-02-06 14:00
       - Impacto: LOW (5 slots)
    ```

    **Acciones sugeridas**:
    - ‚ö†Ô∏è Cierres consecutivos: Validar que no afecten mucho disponibilidad
    - ‚úÖ No solapan: Dr. Garc√≠a (4-5 feb), Dra. L√≥pez (6 feb ma√±ana)
    - ‚úÖ Dra. L√≥pez disponible 6 feb tarde

    **Interpretaci√≥n**: Planificaci√≥n correcta, impacto distribuido.
  </Accordion>
</AccordionGroup>

## Filtrado y Configuraci√≥n

### Filtrado por Tipo

Puedes filtrar upcoming closures por tipo:

- **Todos**: Muestra clinic-wide + provider-specific
- **Solo clinic-wide**: Solo cierres de toda la cl√≠nica
- **Solo provider-specific**: Solo cierres de proveedores individuales

**Uso recomendado**:
- Filtrar "Solo clinic-wide" para ver cierres cr√≠ticos (impacto HIGH)
- Filtrar por proveedor para planificar sustituciones

### Configuraci√≥n del Per√≠odo (14 d√≠as)

El per√≠odo de 14 d√≠as es configurable en backend:

**Archivo**: `app/services/configuration_status_service.py`
```python
UPCOMING_CLOSURES_DAYS = 14  # D√≠as anticipados para mostrar cierres
```

**Modificaci√≥n** (solo admins):
1. Editar variable `UPCOMING_CLOSURES_DAYS`
2. Reiniciar servidor
3. Nuevas consultas usar√°n el nuevo valor

**Valores recomendados**:
- **7 d√≠as**: Para cl√≠nicas peque√±as con planificaci√≥n semanal
- **14 d√≠as**: Balance entre relevancia y anticipaci√≥n (default)
- **30 d√≠as**: Para cl√≠nicas grandes con planificaci√≥n mensual

<Warning>
Aumentar a &gt;30 d√≠as puede llenar la lista con cierres muy lejanos que no son relevantes.
</Warning>

## Casos Especiales

<AccordionGroup>
  <Accordion title="No veo upcoming closures pero tengo cierres creados">
    **Problema**: Cre√© cierres, pero no aparecen en "Upcoming Closures".

    **Causas posibles**:

    **1. Cierres empiezan en &gt;14 d√≠as**:
    - Solo se muestran cierres que empiezan en ‚â§14 d√≠as
    - Si tus cierres empiezan en 20 d√≠as, no aparecer√°n a√∫n
    - Soluci√≥n: Esperar a que est√©n dentro de la ventana de 14 d√≠as

    **2. Cierres ya pasaron**:
    - Solo se muestran cierres futuros
    - Si el cierre ya empez√≥, no es "upcoming" (es "active" o "completed")
    - Soluci√≥n: Revisar lista de "Active Closures" o "Past Closures"

    **3. Cierres fueron cancelados**:
    - Solo se muestran cierres con status ACTIVE
    - Si cancelaste el cierre, no aparecer√°
    - Soluci√≥n: Verificar que el cierre no fue cancelado por error
  </Accordion>

  <Accordion title="Veo cierres que ya pasaron en upcoming closures">
    **Problema**: Upcoming closures muestra cierres con fechas pasadas.

    **Causa**: Bug en el sistema (no deber√≠a pasar).

    **Soluci√≥n**:
    1. Reportar a soporte con detalles:
       - IDs de los cierres afectados
       - Fechas de inicio/fin
       - Timestamp de cuando viste el error
    2. Temporary workaround: Refrescar la p√°gina (Ctrl+F5)
    3. Si persiste, verificar zona horaria del servidor vs cliente
  </Accordion>

  <Accordion title="Countdown no se actualiza en tiempo real">
    **Problema**: "Days until start" muestra "7 d√≠as" pero ya pas√≥ un d√≠a.

    **Causa**: El countdown se calcula al cargar la p√°gina, no se actualiza autom√°ticamente.

    **Soluci√≥n**:
    - Refrescar la p√°gina para ver countdown actualizado
    - El sistema NO usa WebSocket para countdown (solo para status changes)
    - Recomendaci√≥n: Revisar upcoming closures diariamente

    **Feature request**: Agregar actualizaci√≥n autom√°tica de countdown cada minuto (pendiente).
  </Accordion>

  <Accordion title="¬øC√≥mo ver cierres de &gt;14 d√≠as?">
    **Problema**: Quiero ver cierres que empiezan en 30 d√≠as.

    **Soluci√≥n**:
    1. Navega a lista completa de cierres: Gesti√≥n ‚Üí Cierres ‚Üí "Todos"
    2. Filtra por rango de fechas: `starts_at >= hoy` AND `starts_at <= hoy + 30 d√≠as`
    3. Ordena por `starts_at` ascendente

    **Alternativa**:
    - Pedir a admin que aumente `UPCOMING_CLOSURES_DAYS` a 30 (configuraci√≥n backend)
  </Accordion>
</AccordionGroup>

## Mejores Pr√°cticas

<Tip>
**Revisa upcoming closures semanalmente**:

Dedica 5 minutos cada semana para:
1. Revisar lista de upcoming closures
2. Verificar que todos siguen siendo v√°lidos
3. Cancelar los que ya no apliquen
4. Notificar clientes si es necesario

Esto previene bloqueos de disponibilidad por cierres olvidados.
</Tip>

<Tip>
**Planifica con anticipaci√≥n (14+ d√≠as)**:

Crea cierres con al menos 14 d√≠as de anticipaci√≥n:
- Tus clientes pueden ver upcoming closures en el sistema
- Tiempo suficiente para notificar manualmente si es necesario
- Reduces cancelaciones de √∫ltimo minuto
</Tip>

<Warning>
**Atenci√≥n a cierres muy cercanos (&lt;3 d√≠as)**:

Si ves cierres con countdown de 1-2 d√≠as:
- ‚ö†Ô∏è URGENTE: Notificar clientes afectados HOY
- ‚ö†Ô∏è Revisar calendario: Cancelar/mover citas existentes
- ‚ö†Ô∏è Considerar si el cierre sigue siendo necesario
</Warning>

<Note>
**Upcoming closures NO afectan citas existentes**:

Los upcoming closures solo bloquean NUEVAS citas. Si ya hay citas agendadas en ese per√≠odo, NO se cancelan autom√°ticamente. Debes manejarlas manualmente.
</Note>

## Pr√≥ximos Pasos

<CardGroup cols={2}>
  <Card title="Crear Cierre" icon="calendar-plus" href="/closures/create-closure">
    Crear nuevo cierre con anticipaci√≥n
  </Card>

  <Card title="Preview de Impacto" icon="chart-mixed" href="/closures/impact-preview">
    Analizar impacto antes de crear
  </Card>

  <Card title="Cancelar Cierre" icon="trash-can" href="/closures/cancel-closure">
    Eliminar cierre de upcoming list
  </Card>

  <Card title="Volver a Overview" icon="arrow-left" href="/closures/overview">
    Conceptos generales de cierres
  </Card>
</CardGroup>
